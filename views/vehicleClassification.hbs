<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Registered Vehicles</title>
    <link rel="stylesheet" href="user-profile-copy-modified.css">
    <link rel="stylesheet" href="edit-delete-modified.css">
    <link rel="stylesheet" href = "partials/navbar.css">

</head>

<body>
    <script src="add-vehicle.js"></script>
    <script src="edit-delete-modified.js"></script>

    {{> _header }}

    <div id="overlay"></div>

    <header>
        <h1>Registered Vehicles</h1>
    </header>

    <div class="registered-cars">

        <!--car details currently static convert to changeable + change names of classes too-->
        <hr>
        <div class="car">
            <img src="/images/vehicleClassification/sedan.png">
            <div class="car-status">
              <div class="car-info">
                <p class="car-text">Status:</p>
                <p class="status">Not Available</p>
              </div>
              <div class="car-info">
                <p class="car-text">Plate Number:</p>
                <p class="status">XXX 4567</p>
              </div>
              <div class="car-info">
                <p class="car-text">Contact Person:</p>
                <p class="status">Not Available</p>
              </div>
              <div class="buttons-container">
                <button class="edit-btn" onclick="showEditPopup()">Edit</button>
                <button class="delete-btn" onclick="showDeletePopup()">Delete</button>
              </div>
            </div>
        </div>
        <hr>

        <button id="add">
            <img id="addPhoto" src="./images/add.png">
        </button> <!--pop up should appear here in order to register new cars-->

        <!-- popup here -->
        <div id="addCarPopup" class="popupContainer">
            <div class="popupContent">
                <span id="closePopup" class="closePopup">&times;</span>
                <h1>Add a Car</h1>
                <form id="addCarForm">

                    <label for="vehicleName">Name</label>
                    <input type="text" id="vehicleName" name="vehicleName" required><br>
                    <label for="uploadImage">Upload Image</label>
                    <input type="file" id="uploadImage" name="uploadImage" accept="image/*">

                    <button type="submit">Submit</button>
                </form>
            </div>
        </div>

        <div id="successPopup" class="popupContainer">
            <div class="popupContent">
                <span id="closeSuccessPopup" class="closePopup">&times;</span>
                <h1>Completed</h1>
                <p>The vehicle classification has been added successfully.</p>
                <button type="submit" id="closeBtn">Done</button>
            </div>
        </div>

        <hr>


    </div>

    <!--edit-delete-->

    <!-- EDIT POPUP -->
    <div id="editPopup" class="popupContainer" style="display: none;">
        <span class="closePopup" onclick="closeEditPopup()">&times;</span>
        <h2>Edit <span class="subscription-name-label">Vehicle</span>'s Details</h2>

        <!-- REPLACE PLACEHOLDERS WITH VALUES FETCHED FROM DATABASE -->
        <form class="edit-form">
            <label for="plateNumber">Plate Number</label>
            <input type="text" id="plateNumber" name="plateNumber" placeholder="Plate Number" required>

            <label for="contactNumber">Contact Number</label>
            <input type="text" id="contactNumber" name="contactNumber" placeholder="Contact Number" required>

            <label for="details">Details</label>
            <textarea id="details" name="details" placeholder="Additional Information" required></textarea>
        </form>

        <div class="edit-buttons">
            <button class="confirm-edit-btn" onclick="showEditConfirmPopup()" disabled>Confirm</button>
            <button class="cancel-edit-btn" onclick="closeEditPopup()">Cancel</button>
        </div>
    </div>

    <!-- SUCCESSFUL EDIT POPUP -->
    <div id="successEditPopup" class="popupContainer" style="display: none;">
        <span class="closePopup" onclick="closeEditConfirmPopup()">&times;</span>
        <h2>Edit Successful</h2>
        <p>
            <!-- Lagay mo nalang sa loob nung span yung Vehicle name, for now nilagay ko muna si Vehicle  -->
            <span class="subscription-name-label">Vehicle</span> has been successfully edited.
        </p>
        <div class="delete-buttons">
            <button class="close-delete-btn" onclick="closeEditConfirmPopup()">Close</button>
        </div>
    </div>

    <!-- DELETE POPUP -->
    <div id="deletePopup" class="popupContainer" style="display: none;">
        <span class="closePopup" onclick="closeDeletePopup()">&times;</span>
        <h2>Delete Confirmation</h2>
        <p>
            Are you sure you want to delete this vehicle? This action cannot be undone.
        </p>
        <div class="delete-buttons">
            <button class="confirm-delete-btn" onclick="showDeleteConfirmPopup()">Confirm</button>
            <button class="cancel-delete-btn" onclick="closeDeletePopup()">Cancel</button>
        </div>
    </div>

    <!-- SUCCESSFUL DELETE POPUP -->
    <div id="successDeletePopup" class="popupContainer" style="display: none;">
        <span class="closePopup" onclick="closeDeleteConfirmPopup()">&times;</span>
        <h2>Delete Successful</h2>
        <p>
            <!-- Lagay mo nalang sa loob nung span yung Vehicle name, for now nilagay ko muna si Vehicle -->
            <span class="subscription-name-label">Vehicle</span> has been successfully deleted.
        </p>
        <div class="delete-buttons">
            <button class="close-delete-btn" onclick="closeDeleteConfirmPopup()">Close</button>
        </div>
    </div>

    {{> _footer }}

</body>

</html>